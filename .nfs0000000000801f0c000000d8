package main


func TestEscapeIdForFilename(t *testing.T) {
    assertStringEqual(t, "", EscapeIdForFilename(""))

    assertStringEqual(t, "abc123", EscapeIdForFilename("abc123"))
    assertStringEqual(t, "urn:x-xmo:wis::int.wmo.wis:SSVX13", EscapeIdForFilename("urn:x-xmo:wis::int.wmo.wis:SSVX13"))
    assertStringEqual(t, "All_valid-Characters-4_this.test", EscapeIdForFilename("All_valid-Characters-4_this.test"))
    assertStringEqual(t, "some.file.xml", EscapeIdForFilename("some.file.xml"))

    assertStringEqual(t, "spaces%20are%20here", EscapeIdForFilename("spaces are here"))
    assertStringEqual(t, "abc%2F123", EscapeIdForFilename("abc/123"))
    assertStringEqual(t, "abc%2F123", EscapeIdForFilename("someone@somewhere#here"))
}


func assertStringEqual(t *testing.T, exp, actual string) {
    if exp != actual {
        t.Error("assertFail: expected '%s' but received '%s'", exp, actual)
    }
}